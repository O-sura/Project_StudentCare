<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/174ad75841.js" crossorigin="anonymous"></script>
    <title>Test</title>

<style>
</style>

</head>
<body>
 
  <input type="search" name="search" id="searchbar" placeholder="Search Here">

  <div class="bottom-section">
    <div class="contact-info">
        <h1>Contact Info</h2>
        <p class="info"><b>Address:</b> <?php echo $data->home_address;?></p>
        <p class="info"><b>Email:</b> <?php echo $data->email;?></p>
        <p class="info"><b>Contact Number:</b>(+94) <?php echo $data->contact_no; ?></p>
        
    </div>
    <div class="personal-info">
        <h1>Qualifications</h2>
        <?php
            $qualifications = explode(",", $data->qualifications);
            $data->qualifications = $qualifications;
        ?>

        <?php foreach($qualification as $q): ?>
            <p class="info"><?php echo $q;?></p>
        <?endforeach?>
        <a href="<?php echo APPROOT . "/uploads/" . $data->verification_doc;?>" class="download-link" download>Download Verification Document</a>
    </div>
</div>

<script>
    //Search community posts
    let searchBar = document.getElementById('searchbar');
    searchBar.addEventListener('input', () => {
            // Send an AJAX request to the server with the search query
            var xhr = new XMLHttpRequest();
            xhr.open("GET", "http://localhost/StudentCare/community/search_posts/" + searchBar.value, true);
           
            xhr.onload = () => {
                if (xhr.status === 200) {
                    // Parse the JSON response from the server
                    var searchRes = JSON.parse(xhr.responseText);
        
                    // Update the contents of the page to display the search results
                    var resultList = document.getElementById("search-results");
                    resultList.innerHTML = "";
                    for (var i = 0; i < results.length; i++) {
                        var result = results[i];
                        var item = document.createElement("li");
                        item.innerHTML = result.title + " - " + result.url;
                        resultList.appendChild(item);
                    }
                }
            };
            xhr.send();
        }
    )
</script>
</body>
</html>